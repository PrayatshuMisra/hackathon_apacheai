# ApacheAI - Intelligent Aviation Weather Briefings

## üõ©Ô∏è Project Overview

ApacheAI is an intelligent aviation weather briefing system that provides pilots with real-time, AI-enhanced weather insights for safer flight decisions. The application combines multiple aviation data sources with advanced AI processing to deliver clear, actionable weather briefings.

## üåü Key Features

- **Intelligent Weather Analysis**: AI-powered synthesis of METARs, TAFs, PIREPs, and NOTAMs
- **Natural Language Briefings**: Human-readable summaries generated by Google's Gemini AI
- **Interactive Route Planning**: Visual flight planning with dynamic weather overlays
- **PIREP Management**: Convert plain English pilot reports to standard format
- **PDF Export**: Downloadable briefings for offline use
- **Performance Calculations**: Automated fuel and time calculations considering weather conditions

## üèóÔ∏è Architecture

### Frontend (Single Page Application)
- **Framework**: Vanilla JavaScript with TailwindCSS
- **Key Components**:
  - Dynamic route-based rendering
  - Interactive map interface
  - Real-time weather visualization
  - Responsive design with dark mode

### Backend (Python Flask)
- **Main Components**:
  - RESTful API endpoints
  - Weather data aggregation
  - AI summary generation
  - PDF report generation

### Database (Supabase)
- **Tables**:
  - `pireps`: Pilot reports storage
  - `notams`: Notice to Airmen storage

## üîå APIs and Services

### External APIs
1. **Google Gemini AI**
   - Purpose: Natural language weather briefing generation
   - Features: Context-aware summaries, safety recommendations

2. **Supabase**
   - Purpose: Database and authentication
   - Features: Real-time data storage, REST API

### Internal APIs
1. **Weather Endpoints**
   - `/briefing`: Main briefing generation
   - `/api/convert-to-pirep`: PIREP format conversion
   - `/download-briefing`: PDF generation

## üõ†Ô∏è Technical Stack

### Frontend Technologies
- HTML5/CSS3/JavaScript
- TailwindCSS for styling
- Leaflet.js for mapping
- Chart.js for weather visualizations

### Backend Technologies
- Python 3.x
- Flask web framework
- Google Generative AI (Gemini 2.5-flash model)
- PDFKit for report generation

### Development Tools
- VS Code for development
- Git for version control
- Environment variables for configuration

## üì° Data Flow

1. **Weather Data Collection**
   - Fetch METARs and TAFs
   - Retrieve recent PIREPs
   - Collect relevant NOTAMs

2. **Data Processing**
   - Aggregate multiple data sources
   - Format for AI processing
   - Generate comprehensive briefings

3. **User Interface**
   - Dynamic route rendering
   - Real-time updates
   - Interactive components

## üöÄ Features in Detail

### Flight Plan Generation
- **Intelligent Route Planning**
  - Intuitive route input with airport autocomplete
  - Multiple waypoint support with sequential routing
  - Aircraft type selection with performance profiles
  - NOTAM integration toggle for comprehensive briefings
  - Real-time route validation and optimization

### Performance Calculations
- **Aircraft-Specific Performance**
  - Automated fuel burn calculations based on aircraft type
  - Time en-route estimations considering winds aloft
  - Groundspeed calculations with headwind/tailwind components
  - Range and endurance assessments
  - Performance adjustments based on weather conditions

### Alternative Routes System
- **Intelligent Route Suggestions**
  - Automatic detection of adverse weather conditions
  - Alternative airport suggestions for weather-impacted destinations
  - Comparative analysis of primary and alternative routes
  - Distance, time, and fuel consumption comparisons
  - Color-coded visualization of weather conditions
  - Detailed reasoning for suggested alternatives

### Voice Assistant
- **Hands-Free PIREP Creation**
  - Natural voice command recognition
  - Context-aware command processing
  - Support for multiple PIREP fields:
    - Problem/condition reporting
    - Location specification
    - Aircraft type
    - Altitude information
  - Voice feedback for confirmation
  - Help commands for guidance
  - Right Alt key hotkey support
  - Visual transcript display

### PIREP System
- **Advanced Report Processing**
  - Natural language input processing
  - AI-powered conversion to standard format
  - Historical PIREP database with 6-hour retention
  - Geographical correlation with flight routes
  - Automatic ICAO code extraction
  - Aircraft type recognition
  - Integration with weather briefing system

### Weather Visualization
- **Interactive Map Interface**
  - Dynamic Leaflet-based mapping
  - Great circle route visualization
  - Weather condition overlays
  - Color-coded airport markers:
    - VFR: Green
    - MVFR: Blue
    - IFR: Red
    - LIFR: Pink
  - Airport information tooltips
  - Route segment distance calculations
  - Antimeridian handling for long routes

### Weather Analysis
- **Comprehensive Data Integration**
  - Real-time METAR processing
  - TAF forecast interpretation
  - PIREP correlation
  - NOTAM integration
  - AI-powered weather synthesis
  - Trend analysis and predictions
  - Safety recommendations

### Dynamic Charts
- **Weather Parameter Visualization**
  - Temperature trends along route
  - Wind speed and direction analysis
  - Visibility conditions
  - Cloud ceiling patterns
  - Interactive chart tooltips
  - Mobile-responsive design
  - Auto-updating data

### PDF Export System
- **Comprehensive Documentation**
  - Complete briefing content export
  - Interactive charts inclusion
  - Primary route details
  - Alternative route comparisons
  - Airport-specific information
  - NOTAMs and PIREPs
  - Performance calculations
  - Printer-friendly formatting

## ‚öôÔ∏è Configuration

### Environment Variables
```
SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_KEY=your_service_key
SUPABASE_ANON_KEY=your_anon_key
GEMINI_API_KEY=your_gemini_api_key
```

### Required Dependencies
- Python packages in `requirements.txt`
- Node.js for development tools
- wkhtmltopdf for PDF generation

## üîí Security Features

- Secure API key handling
- Environment-based configuration
- Client-side data validation
- Server-side request verification

## üé® UI/UX Features

- Dark mode optimization
- Responsive design
- Loading animations
- Interactive tooltips
- Error handling with user feedback

## üìà Performance Optimizations

- Efficient data caching
- Lazy loading of components
- Optimized API calls
- Compressed data transfer

## üîß Development Setup

1. Clone the repository
2. Install Python dependencies
3. Configure environment variables
4. Install wkhtmltopdf for PDF generation
5. Start the Flask development server

## üìù API Documentation

### GET /briefing
- Parameters:
  - `codes`: Comma-separated ICAO airport codes
  - `include_notams`: Boolean for NOTAM inclusion
- Returns: Complete weather briefing data

### POST /api/convert-to-pirep
- Parameters:
  - `text`: Plain English pilot report
  - `icao`: Airport identifier
  - `aircraftModel`: Aircraft type
- Returns: Standardized PIREP format

### GET /download-briefing
- Parameters: Same as /briefing
- Returns: PDF formatted briefing

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## üìÑ License

This project is proprietary and confidential. All rights reserved.

## üë• Credits

Developed by PrayatshuMisra for the ApacheAI project.

## üìû Support

For support and inquiries, please open an issue in the GitHub repository.